[["tidyverse.html", "Chapter 5 Data visualization", " Chapter 5 Data visualization Install packages tidyverse and viridis library(tidyverse) ## ── Attaching packages ─────────────────────────────────────── tidyverse 1.3.1 ── ## ✓ ggplot2 3.3.3 ✓ purrr 0.3.4 ## ✓ tibble 3.1.1 ✓ dplyr 1.0.5 ## ✓ tidyr 1.1.3 ✓ stringr 1.4.0 ## ✓ readr 1.4.0 ✓ forcats 0.5.1 ## ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ── ## x dplyr::filter() masks stats::filter() ## x dplyr::lag() masks stats::lag() library(viridis) ## Loading required package: viridisLite library(RSQLite) library(DBI) Connect to database ‘severity’ and create tables severity_db &lt;- dbConnect(drv = RSQLite::SQLite(), &quot;/Users/kiplingklimas/Box/Lab_Group/Kipling/Classes/WILD6900_EcoRepSci/Term_project/Term_project/database/severity.db&quot;) severity &lt;- dbGetQuery(severity_db, &quot;SELECT * FROM severity;&quot;) forest_behavior &lt;- dbGetQuery(severity_db, &quot;SELECT * FROM forest_behavior;&quot;) forest_risk &lt;- dbGetQuery(severity_db, &quot;SELECT * FROM forest_risk;&quot;) forest_structure &lt;- dbGetQuery(severity_db, &quot;SELECT * FROM forest_structure;&quot;) forest_topo &lt;- dbGetQuery(severity_db, &quot;SELECT * FROM forest_topo;&quot;) forest_veg &lt;- dbGetQuery(severity_db, &quot;SELECT * FROM forest_veg;&quot;) nf_behavior &lt;- dbGetQuery(severity_db, &quot;SELECT * FROM nf_behavior;&quot;) nf_risk &lt;- dbGetQuery(severity_db, &quot;SELECT * FROM nf_risk;&quot;) nf_structure &lt;- dbGetQuery(severity_db, &quot;SELECT * FROM nf_structure;&quot;) nf_topo &lt;- dbGetQuery(severity_db, &quot;SELECT * FROM nf_topo;&quot;) nf_veg &lt;- dbGetQuery(severity_db, &quot;SELECT * FROM nf_veg;&quot;) This is fire severity dataset shows the relationship between severity measurements and a variety of predictive variables including topographic, vegetation, structural and derived risk indices. Data was differentiated between forest and non-forest points to compare severity relationships between forests and non-forest landcover systems. Simple scatter plot of forest severity by elevation (m) forest_topo %&gt;% left_join(severity, by = &quot;severity_id&quot;) %&gt;% select(dem, severity) %&gt;% ggplot(aes(x = dem, y = severity)) + geom_point() + labs(y = &quot;Severity (dNBR)&quot;, x = &quot;Elevation (m)&quot;) + theme_light() Density curves of fire type extreme by severity forest_behavior %&gt;% left_join(severity, by = &quot;severity_id&quot;) %&gt;% mutate(ftypeE = case_when( ftype_E == 3 ~ &quot;Surface&quot;, ftype_E == 4 ~ &quot;Passive&quot;, ftype_E == 5 ~ &quot;Passive&quot;, ftype_E == 6 ~ &quot;Active&quot;, ftype_E == 7 ~ &quot;Active&quot;, )) %&gt;% ggplot(aes(x = severity, color = ftypeE)) + geom_density() + theme(axis.text.x = element_text(angle = 45, hjust = 1)) + labs(y = &quot;Density&quot;, x = &quot;Severity&quot;) Density curves of fire types forest_veg %&gt;% left_join(severity, by = &quot;severity_id&quot;) %&gt;% filter(!is.na(severity_id)) %&gt;% ggplot(aes(x = NVCSsubclass, y = severity)) + geom_boxplot() + theme(axis.text.x = element_text(angle = 45, hjust = 1)) + labs(y = &quot;Severity (dNBR)&quot;, x = &quot;Vegetation type&quot;) "]]
