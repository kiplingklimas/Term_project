setwd("C:/Users/A02345823/Box/Lab_Group/Kipling/UWRAPAnalysis/Extract_Tables")
#rawdata <- read.csv("full_extract_raw.csv")
data <- read.csv("forest_table_ly.csv")
#ftype as factor
data$ftypeM.tif <- as.factor(data$ftypeM.tif)
data$ftypeE.tif <- as.factor(data$ftypeE.tif)
data$ftypeH.tif <- as.factor(data$ftypeH.tif)
data$ftypeL.tif <- as.factor(data$ftypeL.tif)
data$asp <- as.factor(data$asp)
data$slope <- as.factor(data$slope)
data$wwafuel13_ <- as.factor(data$wwafuel13_)
data$wwafuel40_ <- as.factor(data$wwafuel40_)
data$EVT <- as.factor(data$EVT)
data$NVCSOrd <- as.factor(data$NVCSOrd)
data$SAFSrm <- as.factor(data$SAFSrm)
data$wwacbh_ <- as.factor(data$wwacbh_)
data$wwacc_ <- as.factor(data$wwacc_)
data$wwach_ <- as.factor(data$wwach_)
## Random Forest variable importance- remember to define column types (factors, integers, etc.)
library(randomForest)
severity_importance = randomForest(severity~dem + flmlnA.tif + flmlnE.tif + flmlnH.tif + flmlnL.tif + flmlnM.tif+
fri + fti + ros + rosE.tif + rosH.tif + rosL.tif + rosM.tif + slope + sdr +
ftypeE.tif +ftypeM.tif + ftypeH.tif + ftypeL.tif +
wwacc_ + wwach_ + wwafuel40_ + wwafuel13_ + wwacbh_ + EVT +SystGrp +SAFSrm,
data = data, mtry = 3,
importance=TRUE, na.action = na.exclude)
severity_importance
varImpPlot(severity_importance, scale = FALSE)
severity_importance$importance
fit <- aov(severity~cc_cat, data = data)
anova(fit)
summary(fit) # pval <0.001
## ftypeE ANOVA
boxplot(severity~ftypeH.tif, data=data)
fit.ftypeE <- aov(severity~rosE.tif, data=data)
summary(fit.ftypeE)
TukeyHSD(fit.ftypeE)
## ftypeE ANOVA
boxplot(severity~ftypeE.tif, data=data)
fit.ftypeE <- aov(severity~ftypeE.tif, data=data)
summary(fit.ftypeE)
TukeyHSD(fit.ftypeE)
## canopy height ANOVA
boxplot(severity~wwach_, data=data)
## canopy height ANOVA
boxplot(severity~wwach_, data=data)
fit.wwach <- aov(severity~wwach_, data=data)
summary(fit.wwach)
TukeyHSD(fit.wwach)
# chi square test - categorical severity vs. ftype (data.kk)
library(ggplot2)
ggplot(data)+
aes(x =ftypeE, fill = severity_cat) +
geom_bar() +
scale_fill_hue() +
theme_minimal()
ggplot(data)+
aes(x =ftypeE.tif, fill = severity_cat) +
geom_bar() +
scale_fill_hue() +
theme_minimal()
#canopy height density curves
plot(density(data$severity[data$wwach_ == "0 < CH < 16"]), col = "red", main = "canopy height density curves", xlim = c(-500, 1200), ylim = c(0, .0024), xlab = "Severity")
par(new = TRUE)
plot(density(data$severity[data$wwach_ == "16 <= CH  <33"]), col = "darkgreen", main = "", xlim = c(-500, 1200), ylim = c(0, .0024), xlab = "")
par(new = TRUE)
plot(density(data$severity[data$wwach_ == "33 <= CH < 82"]), col = "blue", main = "", xlim = c(-500, 1200), ylim = c(0, .0024), xlab = "")plot(density(data$severity[data$wwach_ == "Active"]), col = "red", main = "ftypeE density curves", xlim = c(-500, 1200), ylim = c(0, .0024), xlab = "Severity")
plot(density(data$severity[data$wwach_ == "33 <= CH < 82"]), col = "blue", main = "", xlim = c(-500, 1200), ylim = c(0, .0024), xlab = "")
par(new = TRUE)
plot(density(data$severity[data$wwach_ == "82 <= CH < 164"]), col = "orange", main = "", xlim = c(-500, 1200), ylim = c(0, .0024), xlab = "")
legend("topleft", legend = c("0 - 16", "16 - 33", "33 - 82","82 - 164"), lwd = 1, col = c("red", "darkgreen", "blue", "orange"))
?legend
legend("topleft", cex = 0.74, legend = c("0 - 16", "16 - 33", "33 - 82","82 - 164"), lwd = 1, col = c("red", "darkgreen", "blue", "orange"))
#canopy height density curves
plot(density(data$severity[data$wwach_ == "0 < CH < 16"]), col = "red", main = "canopy height density curves", xlim = c(-500, 1200), ylim = c(0, .0024), xlab = "Severity")
par(new = TRUE)
plot(density(data$severity[data$wwach_ == "16 <= CH  <33"]), col = "darkgreen", main = "", xlim = c(-500, 1200), ylim = c(0, .0024), xlab = "")
par(new = TRUE)
plot(density(data$severity[data$wwach_ == "33 <= CH < 82"]), col = "blue", main = "", xlim = c(-500, 1200), ylim = c(0, .0024), xlab = "")
par(new = TRUE)
plot(density(data$severity[data$wwach_ == "82 <= CH < 164"]), col = "orange", main = "", xlim = c(-500, 1200), ylim = c(0, .0024), xlab = "")
legend("topleft", cex = 0.74, legend = c("0 - 16", "16 - 33", "33 - 82","82 - 164"), lwd = 1, col = c("red", "darkgreen", "blue", "orange"))
## canopy height ANOVA
boxplot(severity~wwach_, data=data)
## ftypeE ANOVA
boxplot(severity~ftypeE.tif, data=data)
## ftypeE ANOVA
boxplot(severity~ftypeE.tiH.tif, data=data)
## ftypeE ANOVA
boxplot(severity~ftypeH.tif, data=data)
sev <- data.frame(severity_importance$importance)
sev
View(sev)
setwd("/Users/kiplingklimas/Box/Lab_Group/Kipling/UWRAPAnalysis/Rasters/brian_head_tiffs")
